<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration PUBLIC "-//APACHE//DTD LOG4J 1.2//EN" "log4j.dtd">

<!-- 
	Log4J 설정파일
	
	1. Log4J는 출력 메세지 체계를 체계적으로 관리한다.
	- TRACE : 직접 작성 불가. 프로그램 내에서 발생하는 사소한 작업들에 대한 기록
	- DEBUG : 개발자가 개발 당시 필요에 의해서 확인하는 부분에 대한 기록
	- INFO : 사용자에게 알려줄 정보를 기록하는 용도
	- WARN : 경고:: 실행은 되지만 예외는 발생하지 않지만 지속될 경우 문제가 생기는 경우를 기록하는 용도(ex:메모리누수)
	- ERROR : FATAL보다 덜 치명적 :: 프로그램 실행 중에 예외로 인해 중단된 경우를 기록하는 용도.(ex: Exception)
	- FATAL : 직접 작성 불가, 시스템에 치명적인 오류를 기록하는 용도
	
	2. 태그의 종류
	- <Logger>와 <root>에 보고싶은 메세지의 심각도를 명시할 수 있다.
	- ex : info로 설정하면 info와 info보다 심각한 메세지가 나온다(info, warn, error, fatal)
	- <appender>에는 출력 위치를 지정할 수 있다.
	
	3. 주용 형식
	- 부호는 방향을 의미, 숫자는 자리수를 의미
	- %p : priority : 메시지 수준을 표시할 자리 ::debug,info..
	- %c : category. 로그 출력을 실행한 대상의 위치정보를 출력할 자리
	- %m : message. 실제 출력 메세지
	- %n : new-line. 개행 문자(\n) N터
	- %d : date. 날짜를 출력할 자리. 형식을 정해줄 때 {}를 사용해 할 수 있다.
 -->

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">

	<!--
	 Appenders 
	 : 로그를 남길 위치를 지정하는 도구
	-->
	<!--  console appender는 표준 출력(Sysem.out)을 이용하여 로그를 출력 -->
	<!--  appender의 이름은 appender-ref의 ref의 값으로 사용가능 -->
	<!-- appender ::name -> console을 사용한다면 목적지는 Sytem.out 콘솔이 된다.  -->
	<!-- class는 log4f 설명서 -->
	<appender name="console" class="org.apache.log4j.ConsoleAppender">
	<!--  target은 출력 목적지 :: 표준 출력(System.out)이용-->
		<param name="Target" value="System.out" />
		<!-- layout은 출력 형태(서식) ConversionPattern의 value를 바꾸면 바꿀 수 있다.-->
		<layout class="org.apache.log4j.PatternLayout">
			<param name="ConversionPattern" value="%-5p: %c - %m %d{yyyy-MM-dd HH:mm:ss.SSS} %n" />
		</layout>
	</appender>
	
	<!--  logger설정 : 특정 영역(패키지)에 대한 출력 수준을 설정 -->
	<!-- Application Loggers :: 실제 로그를 남기는 도구-->
	<!--  Test02가 존재하는 패키지 -->
	<logger name="com.kh.spring09">
		<level value="info" />
	</logger>
	
	<!-- 3rdparty Loggers :: 제 3자 -->
	<!--  자바 이외의 것들 third party -->
	<logger name="org.springframework.core">
		<level value="info" />
	</logger>	
	
	<logger name="org.springframework.beans">
		<level value="info" />
	</logger>
	
	<logger name="org.springframework.context">
		<level value="info" />
	</logger>

	<logger name="org.springframework.web">
		<level value="info" />
	</logger>

	<!-- Root Logger -->
	<!-- logger에서 설정한 것 이외에 모두 root로 설정가능  -->
	<!--  최상위 출력 설정 : logger에서 설정된 내용을 제외하고 나머지가 모두 적용 -->
	<root>
		<priority value="info" />
		<appender-ref ref="console" />
	</root>
	
</log4j:configuration>
